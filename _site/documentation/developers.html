<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>FVWM - Developers' Information</title>
  <meta name="description" content="FVWM is an extremely powerful ICCCM-compliant multiple virtual desktop window manager for the X  Window system.
">

  <link rel="stylesheet" href="/fvwm.org/css/main.css">
  <link rel="canonical" href="http://fvwm.org/fvwm.org/documentation/developers.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

<table class="fvwm_header" cellpadding="0">
<tr>
  <td class="fvwm_top_left_border"></td>
  <td class="fvwm_top_border"></td>
  <td class="fvwm_top_right_border"></td>
</tr>
<tr>
  <td class="fvwm_left_border"></td>
  <td class="fvwm_window">
    <table border="0" cellpadding="0" width="100%" style="border-spacing: 0;">
    <tr>
      <td class="fvwm_button1"></td>
      <td class="fvwm_title">The Offical FVWM Home Page</td>
      <td class="fvwm_button4"></td>
      <td class="fvwm_button2"></td>
    </tr>
    </table>
    <div style="padding: 0px;">
      <table border="0" cellpadding="0" width="100%">
      <tr><td style="width: 300px; text-align: left;">
        <img src="/fvwm.org/img/fvwm-logo-gradient-small.png">
      </td><td style="text-align: left; vertical-align: middle;">
        
          Developers' Information
        
      </td></tr>
      </table>
    </div>
  </td>
  <td class="fvwm_right_border"></td>
</tr>
<tr>
  <td class="fvwm_bottom_left_border"></td>
  <td class="fvwm_bottom_border"></td>
  <td class="fvwm_bottom_right_border"></td>
</tr>
<tr>
</table>


  </div>

</header>




    <div class="wrapper">

<ul class="fvwm_menu">
  <li class="fvwm_menu">
    <a class="fvwm_menu" href="/fvwm.org/index.html">FVWM</a>
      <ul>
	<li><a class="fvwm_submenu" href="/fvwm.org/features.html">Features</a></li>
        <li><a class="fvwm_submenu" href="/fvwm.org/history.html">History</a></li>
        <li><a class="fvwm_submenu" href="/fvwm.org/fvwm-logos">FVWM Logos</a></li>
        <li><a class="fvwm_submenu" href="/fvwm.org/authors">Authors</a></li>
	<li><a class="fvwm_submenu" href="/fvwm.org/fvwm-cats">Cats</a></li>
      </ul>
  </li>
  <li class="fvwm_menu">
    <a class="fvwm_menu" href="/fvwm.org/documentation">Documentation</a>
      <ul>
        <li><a class="fvwm_submenu" href="/fvwm.org/documentation/faq">FAQ</a></li>
        <li><a class="fvwm_submenu" href="/fvwm.org/documentation/manpages">Man Pages</a></li>
        <li><a class="fvwm_submenu" href="/fvwm.org/documentation/developers.html">Developer Information</a></li>
      </ul>
  </li>
  <li class="fvwm_menu">
    <a class="fvwm_menu" href="/fvwm.org/download.html">Download</a>
  </li>
  <li class="fvwm_menu">
    <a class="fvwm_menu" href="/fvwm.org/screenshots">Screenshots</a>
  </li>
  <li class="fvwm_menu">
    <a class="fvwm_menu" href="/fvwm.org/support.html">Support</a>
      <ul>
        <li><a class="fvwm_submenu" href="/fvwm.org/support.html#lists">Mailing Lists</a></li>
        <li><a class="fvwm_submenu" href="/fvwm.org/support.html#irc">IRC</a></li>
      </ul>
  </li>
  <li class="fvwm_menu">
    <a class="fvwm_menu" href="/fvwm.org/links.html">Links</a>
  </li>
</ul>

</div>



    <div class="page-content">
      <div class="wrapper">
        <h1 id="developing-for-fvwm">Developing for FVWM</h1>

<p>This document aims to help the developer with the expectations when dealing
with the FVWM source code.</p>

<p>The FVWM source conforms to the <a href="https://www.kernel.org/doc/Documentation/CodingStyle">Linux kernel style
guide</a>.</p>

<h1 id="branch-workflows--submitting-code-changes">Branch Workflows / Submitting Code Changes</h1>

<p>The main FVWM repository treats the <code class="highlighter-rouge">master</code> branch as stable, in that it’s the
branch which has the most tested code on it, and the branch from which releases
are made.  Formal releases of FVWM are tagged, in the form <code class="highlighter-rouge">version-_x.y.z</code>.
Untagged code may well accumulate on <code class="highlighter-rouge">master</code>, which will go to form the next
release.</p>

<p>Other branches in the repository will reflect on-going development from core
fvwm-workers.   As such, these branches are often in a state of flux, and likely
to be rebased against other branches.  <em>NO</em> code should be based off topic
branches, unless explicitly agreed with other developers, who might need to
collaborate.</p>

<h3 id="branch-naming">Branch naming</h3>

<p>Branch names are used to try and indicate the feature, and who is working on
them.  So for example, a topic-branch will be named as:</p>

<p><code class="highlighter-rouge">initials/rough-description-of-branch</code></p>

<p>For example:</p>

<p><code class="highlighter-rouge">ta/fix-clang-warnings</code></p>

<p>denotes that the branch is worked on by someone with the initials <code class="highlighter-rouge">TA</code> and that
the branch is about fixing warnings from Clang.</p>

<p>Sometimes, if more than one person is collaborating on a branch, the initials
prefix might not be needed.</p>

<h3 id="submitting-pull-requests">Submitting Pull-requests</h3>

<p>External contributions are always welcomed and encouraged.  If you’re thinking
of writing a new feature, it is worthwhile posting an email to the
<code class="highlighter-rouge">fvwm-workers</code> mailing list to discuss whether it’s a good idea, and to check no
one else is working on that feature.</p>

<p>Those wishing to submit code/bug-fixes should:</p>

<ul>
  <li><a href="https://github.com/fvwmorg/fvwm#fork-destination-box">Fork the FVWM-repository</a></li>
  <li>Add the <a href="https://github.com/fvwmorg/fvwm.git">FVWM-repo</a> as an upstream
remote:
    <ul>
      <li><code class="highlighter-rouge">git remote add fvwmorg https://github.com/fvwmorg/fvwm.git &amp;&amp;
git fetch fvwmorg</code></li>
    </ul>
  </li>
  <li>Create a topic-branch to house your work;</li>
  <li>Rebase it against <code class="highlighter-rouge">fvwmorg/master</code></li>
  <li>Push the latest changes to your fork;</li>
  <li>Open a pull-request</li>
</ul>

<p>Once a pull-request is opened, an email is sent to the <code class="highlighter-rouge">fvwm-workers</code> list so we
can take a look at it.</p>

<p>Alternatively, if pull-requests are not an option, then <code class="highlighter-rouge">git-send-email</code> can be
used, sending the relevant patchsets to the <code class="highlighter-rouge">fvwm-workers</code> mailing list.</p>

<h3 id="protected-branches-and-the-use-of-travis-ci">Protected branches and the use of Travis-CI</h3>

<p>Pull-requests made will result in the use of Travis-CI being run against the
branch.  This builds the copy of the pushed code in a Ubuntu environment, with
all the additional libraries FVWM could use, loaded in.  Builds are made against
<code class="highlighter-rouge">gcc</code> and <code class="highlighter-rouge">clang</code>, because both those compiler cover slightly different angles
with respect to compiling.  All warnings are treated as errors, and if a build
does not succeeded, ensure the code is fixed, and pushed back out on the same
branch.  Rebasing is recommended; Travis-CI and Github handle this just fine.</p>

<p>The FVWM repository also treats the <code class="highlighter-rouge">master</code> branch as protected.  This is a
<a href="https://help.github.com/articles/about-protected-branches/">GitHub feature</a>
which means the <code class="highlighter-rouge">master</code> branch in this case cannot have changes merged into it
until Travis-CI has verified the builds do not fail.</p>

<p>This has benefit since not every developer will be using the same operating
systems (Linux versus BSD for instance), and that <code class="highlighter-rouge">master</code> is meant to try and
be as release-worthy as can be.</p>

<p><strong>NOTE</strong>:  At present, this does not stop core fvwm-workers from force-pushing
onto <code class="highlighter-rouge">master</code>.  This might be useful in some cases, but isn’t recommended.</p>

<h1 id="conventions">Conventions</h1>

<p>The following tries to list all the conventions that the fvwm developers
adhere to, either by consensus through discussion, common practice or unspoken
agreement.  It is hopefully useful for the fvwm development newbie.</p>

<h2 id="programming-languages">Programming Languages</h2>

<p>The following programming languages are allowed:</p>

<ul>
  <li>ANSI C</li>
  <li>Perl</li>
  <li>Portable /bin/sh scripts for examples.</li>
</ul>

<h2 id="new-code-files">New Code Files</h2>

<ul>
  <li>
    <p>There are templates for new code files in the fvwm directory.  Try to always
use them as they provide a clean structure of the header and code files.
Please honour the section titles.  For example, put all static functions
(and only static functions) under the “local functions” section.</p>
  </li>
  <li>
    <p>All .c files <em>must</em> have</p>
  </li>
</ul>

<p><code class="highlighter-rouge">
#include "config.h"
</code></p>

<p>as the first non-comment line.  Otherwise the settings made by the configure
script may not be used.  This can cause random problems.</p>

<h2 id="file-names">File Names</h2>

<ul>
  <li>The names of the code files in the fvwm directory are in lower case.</li>
  <li>Files in the libs directory may begin with a capital ‘F’.  This letter is
reserved for wrapper files for third party libraries or modules.  For
example, FShape is an abstraction of the XShape X server extension and FBidi
is a wrapper for the fribidi library.  Do not use the ‘F’ for other
purposes.</li>
</ul>

<h2 id="copyright-notices">Copyright Notices</h2>

<ul>
  <li>A copy of the GPL should be at the beginning of all code files (.c) and
scripts, but not at the beginning of header files (.h).</li>
</ul>

<h2 id="maintaining-man-pages">Maintaining Man Pages</h2>

<ul>
  <li>Every feature must be described with all options in the man page.</li>
</ul>

<h1 id="creating-a-release">Creating a release</h1>

<p>Before deciding to make a new release, please check with the <code class="highlighter-rouge">fvwm-workers</code>
mailing list that this is the right time to do so.  This will give adequate
warning for other developers to give status updates about any in-flight
development that’s happening which might impact a potential release.</p>

<p>Make sure you have all optional libraries installed.</p>

<ol>
  <li><code class="highlighter-rouge">git checkout master &amp;&amp; git pull</code></li>
  <li>Change the dates in configure.ac and fill in the release dates.</li>
  <li>Verify that the version variable at the very beginning of
configure.ac has the value of the going to be released version
and set <code class="highlighter-rouge">ISRELEASED</code> to <code class="highlighter-rouge">yes</code>.</li>
  <li>Commit the results:  <code class="highlighter-rouge">git commit -a</code></li>
  <li>
    <p>Run: <code class="highlighter-rouge">./utils/configure_dev.sh &amp;&amp; make clean</code> to get the tree into a clean
slate.  Because this is a release, the source needs compiling.  To do
that, run:</p>

    <p><code class="highlighter-rouge">
 make CFLAGS="-g -O2 -Wall -Wpointer-arith -fno-strict-aliasing -Werror"
</code></p>

    <p>Fix all warnings and problems, commit the changes and repeat the previous
 command until no more warnings occur.</p>
  </li>
  <li>
    <p>Build and test the release tarballs:</p>

    <p>Run: <code class="highlighter-rouge">make distcheck2</code></p>

    <p>If that succeeds, check for <code class="highlighter-rouge">fvwm-x.y.z.tar.gz</code> in the current working
directory.  This is the release tarball which will be uploaded to Github.
Unpack it to a temporary directory and build it; check the version as well,
via: <code class="highlighter-rouge">./fvwm --version</code>.</p>
  </li>
  <li>Tag the release: <code class="highlighter-rouge">git tag -a</code></li>
  <li>Push the tag out: <code class="highlighter-rouge">git push --tags</code></li>
  <li>Upload the <code class="highlighter-rouge">fvwm-x.y.z.tar.gz</code> tarball to Github.</li>
  <li>Increase the version number in <code class="highlighter-rouge">configure.ac</code> and set <code class="highlighter-rouge">ISRELEASED</code> to <code class="highlighter-rouge">no</code></li>
  <li>Commit that, and push it out.</li>
</ol>

<h1 id="updating-fvwm-web">Updating fvwm-web</h1>

<p>TBD</p>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper" style="text-align: right;">

  </div>

</footer>


  </body>

</html>
